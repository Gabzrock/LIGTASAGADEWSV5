<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>LIGTAS-RILEWSV3-workspace</title>
    <link rel="stylesheet" href="./style.css">

  </head>
    
  <body>
  <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LIGTAS-RILEWSV3 | Landslide Warning Map</title>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.79.0/dist/L.Control.Locate.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet-search@3.0.2/dist/leaflet-search.min.css" />
    
</head>
<body>

    <div id="loading-screen">
        <div class="logo">
            <img src="https://raw.githubusercontent.com/Gabzrock/LIGTASAGADEWSV3/refs/heads/main/LIGTAS.png" alt="Logo" width="100" height="100">
        </div>
        <div class="loading-text">Rainfall-Induced Landslide Early Warning System (RILEWS)</div>
        <div class="spinner"></div>
        <div class="progress-container">
            <div class="progress-bar"></div>
        </div>
    </div>

    <header id="header2">
        <div class="header-title">
            LIGTAS-AGAD RILEWS
        </div>
        <div class="header-controls">
            <div id="real-time">Initializing...</div>
            <button class="btn" onclick="Homebutton()">Home</button>
            <button class="btn" onclick="AWSbutton()">AWS Monitor</button>
            <button class="btn btn-primary" id="toggle-buffer">20-KM Warning</button>
        </div>
    </header>

    <div id="errorOverride">
        <strong>Warning:</strong>
        <p>Some GeoJSON layers failed to load.</p>
        <button id="overrideBtn">Dismiss</button> 
        <button id="retryBtn">Retry</button>
        <div id="errorList"></div>
    </div>

    <div id="map-container">
        <nav id="navbar">
            <details open>
                <summary>Map Controls</summary>
                
                <div class="control-group">
                    <h5>Weather Forecast (CReSS)</h5>
                    <div class="playback-controls">
                        <button id="prevBtn">Prev</button>
                        <button id="playBtn">Play</button>
                        <button id="pauseBtn">Pause</button>
                        <button id="stopBtn">Stop</button>
                        <button id="nextBtn">Next</button>
                    </div>
                    <div style="text-align: center; margin: 5px 0; font-weight: bold;">
                        <span id="currentGroup">Day: 1</span>
                    </div>
                    <div id="speedControl">
                        <label for="speedSlider">Speed:</label>
                        <input type="range" id="speedSlider" min="1" max="10" value="5" step="1">
                        <span id="speedValue">5s</span>
                    </div>
                </div>

                <div class="control-group">
                    <h5>Global Layer Controls</h5>
                    <button class="btn" style="background:var(--primary-color); width:100%; margin-bottom:5px;" id="addAllBtn">Show All Layers</button>
                    <button class="btn" style="background:#d9534f; width:100%;" id="removeAllBtn">Hide All Layers</button>
                    
                    <div id="layerControls" style="margin-top: 10px;">
                        </div>
                </div>
            </details>
        </nav>

        <div id="map"></div>

        <div id="propertiesContainer">
            <details open>
                <summary>Feature Properties Table</summary>
                <table id="propertiesTable">
                    <thead>
                        <tr>
                            <th>Layer</th>
                            <th>Property</th>
                            <th>Value</th>
                        </tr>
                    </thead>
                    <tbody id="propertiesTableBody">
                        <tr><td colspan="3" style="text-align:center; padding:20px; color:#666;">Click on a map feature to view details here.</td></tr>
                    </tbody>
                </table>
            </details>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.79.0/dist/L.Control.Locate.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet-search@3.0.2/dist/leaflet-search.min.js"></script>


</body>
</html>
    <script  src="./script.js"></script>

  </body>
  
</html>
